<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Components and Connectors · ModelingToolkit.jl</title><meta name="title" content="Components and Connectors · ModelingToolkit.jl"/><meta property="og:title" content="Components and Connectors · ModelingToolkit.jl"/><meta property="twitter:title" content="Components and Connectors · ModelingToolkit.jl"/><meta name="description" content="Documentation for ModelingToolkit.jl."/><meta property="og:description" content="Documentation for ModelingToolkit.jl."/><meta property="twitter:description" content="Documentation for ModelingToolkit.jl."/><meta property="og:url" content="https://docs.sciml.ai/ModelingToolkit/stable/basics/MTKModel_Connector/"/><meta property="twitter:url" content="https://docs.sciml.ai/ModelingToolkit/stable/basics/MTKModel_Connector/"/><link rel="canonical" href="https://docs.sciml.ai/ModelingToolkit/stable/basics/MTKModel_Connector/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ModelingToolkit.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ModelingToolkit.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../tutorials/ode_modeling/">Getting Started with ModelingToolkit.jl</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/acausal_components/">Acausal Component-Based Modeling</a></li><li><a class="tocitem" href="../../tutorials/nonlinear/">Modeling Nonlinear Systems</a></li><li><a class="tocitem" href="../../tutorials/optimization/">Modeling Optimization Problems</a></li><li><a class="tocitem" href="../../tutorials/modelingtoolkitize/">Modelingtoolkitize: Automatically Translating Numerical to Symbolic Code</a></li><li><a class="tocitem" href="../../tutorials/programmatically_generating/">Programmatically Generating and Scripting ODESystems</a></li><li><a class="tocitem" href="../../tutorials/stochastic_diffeq/">Modeling with Stochasticity</a></li><li><a class="tocitem" href="../../tutorials/parameter_identifiability/">Parameter Identifiability in ODE Models</a></li><li><a class="tocitem" href="../../tutorials/bifurcation_diagram_computation/">Bifurcation Diagrams</a></li><li><a class="tocitem" href="../../tutorials/domain_connections/">Domains</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Basic Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/higher_order/">Automatic Transformation of Nth Order ODEs to 1st Order ODEs</a></li><li><a class="tocitem" href="../../examples/spring_mass/">Component-Based Modeling of a Spring-Mass System</a></li><li><a class="tocitem" href="../../examples/modelingtoolkitize_index_reduction/">Automated Index Reduction of DAEs</a></li><li><a class="tocitem" href="../../examples/parsing/">Parsing Expressions into Solvable Systems</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Advanced Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/tearing_parallelism/">Exposing More Parallelism By Tearing Algebraic Equations in ODESystems</a></li><li><a class="tocitem" href="../../examples/sparse_jacobians/">Automated Sparse Analytical Jacobians</a></li><li><a class="tocitem" href="../../examples/perturbation/">Symbolic-Numeric Perturbation Theory for ODEs</a></li></ul></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../AbstractSystem/">The AbstractSystem Interface</a></li><li><a class="tocitem" href="../ContextualVariables/">Contextual Variable Types</a></li><li><a class="tocitem" href="../Variable_metadata/">Symbolic Metadata</a></li><li><a class="tocitem" href="../Composition/">Composing Models and Building Reusable Components</a></li><li><a class="tocitem" href="../Events/">Event Handling and Callback Functions</a></li><li><a class="tocitem" href="../Linearization/">Linearization</a></li><li class="is-active"><a class="tocitem" href>Components and Connectors</a><ul class="internal"><li><a class="tocitem" href="#MTK-Model"><span>MTK Model</span></a></li><li><a class="tocitem" href="#Components"><span>Components</span></a></li><li><a class="tocitem" href="#Connectors"><span>Connectors</span></a></li><li><a class="tocitem" href="#More-on-Model.structure"><span>More on <code>Model.structure</code></span></a></li></ul></li><li><a class="tocitem" href="../Validation/">Model Validation and Units</a></li><li><a class="tocitem" href="../DependencyGraphs/">Dependency Graphs</a></li><li><a class="tocitem" href="../FAQ/">Frequently Asked Questions</a></li></ul></li><li><span class="tocitem">System Types</span><ul><li><a class="tocitem" href="../../systems/ODESystem/">ODESystem</a></li><li><a class="tocitem" href="../../systems/SDESystem/">SDESystem</a></li><li><a class="tocitem" href="../../systems/JumpSystem/">JumpSystem</a></li><li><a class="tocitem" href="../../systems/NonlinearSystem/">NonlinearSystem</a></li><li><a class="tocitem" href="../../systems/OptimizationSystem/">OptimizationSystem</a></li><li><a class="tocitem" href="../../systems/DiscreteSystem/">DiscreteSystem</a></li><li><a class="tocitem" href="../../systems/PDESystem/">PDESystem</a></li></ul></li><li><a class="tocitem" href="../../comparison/">Comparison of ModelingToolkit vs Equation-Based and Block Modeling Languages</a></li><li><a class="tocitem" href="../../internals/">Internal Details</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Basics</a></li><li class="is-active"><a href>Components and Connectors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Components and Connectors</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/ModelingToolkit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/ModelingToolkit.jl/blob/master/docs/src/basics/MTKModel_Connector.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="mtkmodel_connector"><a class="docs-heading-anchor" href="#mtkmodel_connector">Components and Connectors</a><a id="mtkmodel_connector-1"></a><a class="docs-heading-anchor-permalink" href="#mtkmodel_connector" title="Permalink"></a></h1><h2 id="MTK-Model"><a class="docs-heading-anchor" href="#MTK-Model">MTK Model</a><a id="MTK-Model-1"></a><a class="docs-heading-anchor-permalink" href="#MTK-Model" title="Permalink"></a></h2><p>MTK represents components and connectors with <code>Model</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelingToolkit.Model" href="#ModelingToolkit.Model"><code>ModelingToolkit.Model</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Model{F, S}</code></pre><p>ModelingToolkit component or connector with metadata</p><p><strong>Fields</strong></p><ul><li><p><code>f</code>: The constructor that returns ODESystem.</p></li><li><p><code>structure</code>: The dictionary with metadata like keyword arguements (:kwargs), base system this Model extends (:extend), sub-components of the Model (:components), variables (:variables), parameters (:parameters), structural parameters (:structural_parameters) and equations (:equations).</p></li></ul><ul><li><code>isconnector</code>: This flag is <code>true</code> when the Model is a connector and is <code>false</code> when it is a component</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/ModelingToolkit.jl/blob/70c3252881c0a4ec4f1f1aa6d3eeb15e5993a910/src/systems/model_parsing.jl#L1">source</a></section></article><h2 id="Components"><a class="docs-heading-anchor" href="#Components">Components</a><a id="Components-1"></a><a class="docs-heading-anchor-permalink" href="#Components" title="Permalink"></a></h2><p>Components are models from various domains. These models contain states and their equations.</p><h3 id="mtkmodel"><a class="docs-heading-anchor" href="#mtkmodel">Defining components with <code>@mtkmodel</code></a><a id="mtkmodel-1"></a><a class="docs-heading-anchor-permalink" href="#mtkmodel" title="Permalink"></a></h3><p><code>@mtkmodel</code> is a convenience macro to define components. It returns <code>ModelingToolkit.Model</code>, which includes a constructor that returns the ODESystem, a <code>structure</code> dictionary with metadata, and flag <code>isconnector</code> which is set to <code>false</code>.</p><h3 id="What-can-an-MTK-Model-definition-have?"><a class="docs-heading-anchor" href="#What-can-an-MTK-Model-definition-have?">What can an MTK-Model definition have?</a><a id="What-can-an-MTK-Model-definition-have?-1"></a><a class="docs-heading-anchor-permalink" href="#What-can-an-MTK-Model-definition-have?" title="Permalink"></a></h3><p><code>@mtkmodel</code> definition contains begin blocks of</p><ul><li><code>@components</code>: for listing sub-components of the system</li><li><code>@equations</code>: for the list of equations</li><li><code>@extend</code>: for extending a base system and unpacking its states</li><li><code>@icon</code> : for embedding the model icon</li><li><code>@parameters</code>: for specifying the symbolic parameters</li><li><code>@structural_parameters</code>: for specifying non-symbolic parameters</li><li><code>@variables</code>: for specifing the states</li></ul><p>Let&#39;s explore these in more detail with the following example:</p><pre><code class="language-julia hljs">using ModelingToolkit

@mtkmodel ModelA begin
    @parameters begin
        k
        k_array[1:2]
    end
end

@mtkmodel ModelB begin
    @parameters begin
        p1 = 1.0, [description = &quot;Parameter of ModelB&quot;]
        p2 = 1.0, [description = &quot;Parameter of ModelB&quot;]
    end
end

@mtkmodel ModelC begin
    @icon &quot;https://github.com/SciML/SciMLDocs/blob/main/docs/src/assets/logo.png&quot;
    @structural_parameters begin
        f = sin
    end
    begin
        v_var = 1.0
    end
    @variables begin
        v(t) = v_var
        v_array(t)[1:2, 1:3]
    end
    @extend ModelB(; p1)
    @components begin
        model_a = ModelA(; k_array)
    end
    @equations begin
        model_a.k ~ f(v)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ModelingToolkit.Model{typeof(Main.var&quot;Main&quot;.__ModelC__), Dict{Symbol, Any}}(Main.var&quot;Main&quot;.__ModelC__, Dict{Symbol, Any}(:components =&gt; [[:model_a, :ModelA]], :variables =&gt; Dict{Symbol, Dict{Symbol, Any}}(:v =&gt; Dict(:default =&gt; :v_var), :v_array =&gt; Dict(:size =&gt; (2, 3))), :icon =&gt; URI(&quot;https://github.com/SciML/SciMLDocs/blob/main/docs/src/assets/logo.png&quot;), :kwargs =&gt; Dict{Symbol, Any}(:f =&gt; :sin, :v =&gt; :v_var, :v_array =&gt; nothing, :model_a__k_array =&gt; nothing, :p1 =&gt; nothing), :independent_variable =&gt; t, :extend =&gt; Any[[:p2, :p1], Symbol(&quot;#mtkmodel__anonymous__ModelB&quot;), :ModelB], :equations =&gt; [&quot;model_a.k ~ f(v)&quot;]), false)</code></pre><h4 id="@icon"><a class="docs-heading-anchor" href="#@icon"><code>@icon</code></a><a id="@icon-1"></a><a class="docs-heading-anchor-permalink" href="#@icon" title="Permalink"></a></h4><p>An icon can be embedded in 3 ways:</p><ul><li>URI</li><li>Path to a valid image-file.&lt;br&gt; It can be an absolute path. Or, a path relative to an icon directory; which is <code>DEPOT_PATH[1]/mtk_icons</code> by default and can be changed by setting <code>ENV[&quot;MTK_ICONS_DIR&quot;]</code>.&lt;br&gt; Internally, it is saved in the <em>File URI</em> scheme.</li></ul><pre><code class="language-julia hljs">@mtkmodel WithPathtoIcon begin
    @icon &quot;/home/user/.julia/dev/mtk_icons/icon.png&quot;
    # Rest of the model definition
end</code></pre><ul><li>Inlined SVG.</li></ul><pre><code class="language-julia hljs">@mtkmodel WithInlinedSVGIcon begin
    @icon &quot;&quot;&quot;&lt;svg height=&quot;100&quot; width=&quot;100&quot;&gt;
    &lt;circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;40&quot; stroke=&quot;green&quot; fill=&quot;none&quot; stroke-width=&quot;3&quot;/&gt;
    &lt;/svg&gt;
    &quot;&quot;&quot;
    # Rest of the model definition
end</code></pre><h4 id="@structural_parameters-begin-block"><a class="docs-heading-anchor" href="#@structural_parameters-begin-block"><code>@structural_parameters</code> begin block</a><a id="@structural_parameters-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#@structural_parameters-begin-block" title="Permalink"></a></h4><ul><li>This block is for non symbolic input arguements. These are for inputs that usually are not meant to be part of components; but influence how they are defined. One can list inputs like boolean flags, functions etc... here.</li><li>Whenever default values are specified, unlike parameters/variables, they are reflected in the keyword argument list.</li></ul><h4 id="@parameters-and-@variables-begin-block"><a class="docs-heading-anchor" href="#@parameters-and-@variables-begin-block"><code>@parameters</code> and <code>@variables</code> begin block</a><a id="@parameters-and-@variables-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#@parameters-and-@variables-begin-block" title="Permalink"></a></h4><ul><li>Parameters and variables are declared with respective begin blocks.</li><li>Variables must be functions of an independent variable.</li><li>Optionally, initial guess and metadata can be specified for these parameters and variables. See <code>ModelB</code> in the above example.</li><li>Along with creating parameters and variables, keyword arguments of same name with default value <code>nothing</code> are created.</li><li>Whenever a parameter or variable has initial value, for example <code>v(t) = 0.0</code>, a symbolic variable named <code>v</code> with initial value 0.0 and a keyword argument <code>v</code>, with default value <code>nothing</code> are created. &lt;br&gt; This way, users can optionally pass new value of <code>v</code> while creating a component.</li></ul><pre><code class="language-julia hljs">julia&gt; @mtkbuild model_c1 = ModelC(; v = 2.0);

julia&gt; ModelingToolkit.getdefault(model_c1.v)
2.0</code></pre><h4 id="@extend-begin-block"><a class="docs-heading-anchor" href="#@extend-begin-block"><code>@extend</code> begin block</a><a id="@extend-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#@extend-begin-block" title="Permalink"></a></h4><ul><li>Partial systems can be extended in a higher system as <code>@extend PartialSystem(; kwargs)</code>.</li><li>Keyword arguments pf partial system in the <code>@extend</code> definition are added as the keyword arguments of the base system.</li><li>Note that in above example, <code>p1</code> is promoted as an argument of <code>ModelC</code>. Users can set the value of <code>p1</code>. However, as <code>p2</code> isn&#39;t listed in the model definition, its initial guess can&#39;t be specified while creating an instance of <code>ModelC</code>.</li></ul><pre><code class="language-julia hljs">julia&gt; @mtkbuild model_c2 = ModelC(; p1 = 2.0)
</code></pre><h4 id="@components-begin-block"><a class="docs-heading-anchor" href="#@components-begin-block"><code>@components</code> begin block</a><a id="@components-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#@components-begin-block" title="Permalink"></a></h4><ul><li>Declare the subcomponents within <code>@components</code> begin block.</li><li>The arguments in these subcomponents are promoted as keyword arguments as <code>subcomponent_name__argname</code> with <code>nothing</code> as default value.</li><li>Whenever components are created with <code>@named</code> macro, these can be accessed with <code>.</code> operator as <code>subcomponent_name.argname</code></li><li>In the above example, as <code>k</code> of <code>model_a</code> isn&#39;t listed while defining the sub-component in <code>ModelC</code>, its default value can&#39;t be modified by users. While <code>k_array</code> can be set as:</li></ul><pre><code class="language-julia hljs">using ModelingToolkit: getdefault

@mtkbuild model_c3 = ModelC(; model_a.k_array = [1.0, 2.0])

getdefault(model_c3.model_a.k_array[1])
# 1.0
getdefault(model_c3.model_a.k_array[2])
# 2.0

@mtkbuild model_c4 = ModelC(model_a.k_array = 3.0)

getdefault(model_c4.model_a.k_array[1])
# 3.0
getdefault(model_c4.model_a.k_array[2])
# 3.0</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3.0</code></pre><h4 id="@equations-begin-block"><a class="docs-heading-anchor" href="#@equations-begin-block"><code>@equations</code> begin block</a><a id="@equations-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#@equations-begin-block" title="Permalink"></a></h4><ul><li>List all the equations here</li></ul><h4 id="A-begin-block"><a class="docs-heading-anchor" href="#A-begin-block">A begin block</a><a id="A-begin-block-1"></a><a class="docs-heading-anchor-permalink" href="#A-begin-block" title="Permalink"></a></h4><ul><li>Any other Julia operations can be included with dedicated begin blocks.</li></ul><h2 id="Connectors"><a class="docs-heading-anchor" href="#Connectors">Connectors</a><a id="Connectors-1"></a><a class="docs-heading-anchor-permalink" href="#Connectors" title="Permalink"></a></h2><p>Connectors are special models that can be used to connect different components together. MTK provides 3 distinct connectors:</p><ul><li><code>DomainConnector</code>: A connector which has only one state which is of <code>Flow</code> type, specified by <code>[connect = Flow]</code>.</li><li><code>StreamConnector</code>: A connector which has atleast one stream variable, specified by <code>[connect = Stream]</code>. A <code>StreamConnector</code> must have exactly one flow variable.</li><li><code>RegularConnector</code>: Connectors that don&#39;t fall under above categories.</li></ul><h3 id="connector"><a class="docs-heading-anchor" href="#connector">Defining connectors with <code>@connector</code></a><a id="connector-1"></a><a class="docs-heading-anchor-permalink" href="#connector" title="Permalink"></a></h3><p><code>@connector</code> returns <code>ModelingToolkit.Model</code>. It includes a constructor that returns a connector ODESystem, a <code>structure</code> dictionary with metadata, and flag <code>isconnector</code> which is set to <code>true</code>.</p><p>A simple connector can be defined with syntax similar to following example:</p><pre><code class="language-julia hljs">using ModelingToolkit

@connector Pin begin
    v(t) = 0.0, [description = &quot;Voltage&quot;]
    i(t), [connect = Flow]
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ModelingToolkit.Model{typeof(Main.__Pin__), Dict{Symbol, Any}}(Main.__Pin__, Dict{Symbol, Any}(:variables =&gt; Dict{Symbol, Dict{Symbol, Any}}(:v =&gt; Dict(:default =&gt; 0.0, :description =&gt; &quot;Voltage&quot;), :i =&gt; Dict(:connection_type =&gt; :Flow)), :kwargs =&gt; Dict{Symbol, Any}(:v =&gt; 0.0, :i =&gt; nothing), :independent_variable =&gt; t), true)</code></pre><p>Variables (as functions of independent variable) are listed out in the definition. These variables can optionally have initial values and metadata like <code>description</code>, <code>connect</code> and so on. For more details on setting metadata, check out <a href="../Variable_metadata/#symbolic_metadata">Symbolic Metadata</a>.</p><p>Similar to <code>@mtkmodel</code>, <code>@connector</code> accepts begin blocks of <code>@components</code>, <code>@equations</code>, <code>@extend</code>, <code>@parameters</code>, <code>@structural_parameters</code>, <code>@variables</code>. These keywords mean the same as described above for <code>@mtkmodel</code>. For example, the following <code>HydraulicFluid</code> connector is defined with parameters, variables and equations.</p><pre><code class="language-julia hljs">@connector HydraulicFluid begin
    @parameters begin
        ρ = 997
        β = 2.09e9
        μ = 0.0010016
        n = 1
        let_gas = 1
        ρ_gas = 0.0073955
        p_gas = -1000
    end
    @variables begin
        dm(t) = 0.0, [connect = Flow]
    end
    @equations begin
        dm ~ 0
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ModelingToolkit.Model{typeof(Main.__HydraulicFluid__), Dict{Symbol, Any}}(Main.__HydraulicFluid__, Dict{Symbol, Any}(:variables =&gt; Dict{Symbol, Dict{Symbol, Any}}(:dm =&gt; Dict(:default =&gt; 0.0, :connection_type =&gt; :Flow)), :kwargs =&gt; Dict{Symbol, Any}(:p_gas =&gt; -1000, :ρ =&gt; 997, :μ =&gt; 0.0010016, :let_gas =&gt; 1, :n =&gt; 1, :ρ_gas =&gt; 0.0073955, :dm =&gt; 0.0, :β =&gt; 2.09e9), :independent_variable =&gt; t, :parameters =&gt; Dict{Symbol, Dict{Symbol, Any}}(:p_gas =&gt; Dict(:default =&gt; -1000), :ρ =&gt; Dict(:default =&gt; 997), :μ =&gt; Dict(:default =&gt; 0.0010016), :let_gas =&gt; Dict(:default =&gt; 1), :n =&gt; Dict(:default =&gt; 1), :ρ_gas =&gt; Dict(:default =&gt; 0.0073955), :β =&gt; Dict(:default =&gt; 2.09e9)), :equations =&gt; [&quot;dm ~ 0&quot;]), true)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For more examples of usage, checkout <a href="https://github.com/SciML/ModelingToolkitStandardLibrary.jl/">ModelingToolkitStandardLibrary.jl</a></p></div></div><h2 id="More-on-Model.structure"><a class="docs-heading-anchor" href="#More-on-Model.structure">More on <code>Model.structure</code></a><a id="More-on-Model.structure-1"></a><a class="docs-heading-anchor-permalink" href="#More-on-Model.structure" title="Permalink"></a></h2><p><code>structure</code> stores metadata that describes composition of a model. It includes:</p><ul><li><code>:components</code>: List of sub-components in the form of [[name, sub<em>component</em>name],...].</li><li><code>:extend</code>: The list of extended states, name given to the base system, and name of the base system.</li><li><code>:structural_parameters</code>: Dictionary of structural parameters mapped to their default values.</li><li><code>:parameters</code>: Dictionary of symbolic parameters mapped to their metadata. For parameter arrays, length is added to the metadata as <code>:size</code>.</li><li><code>:variables</code>: Dictionary of symbolic variables mapped to their metadata. For variable arrays, length is added to the metadata as <code>:size</code>.</li><li><code>:kwargs</code>: Dictionary of keyword arguments mapped to their default values.</li><li><code>:independent_variable</code>: Independent variable, which is added while generating the Model.</li><li><code>:equations</code>: List of equations (represented as strings).</li></ul><p>For example, the structure of <code>ModelC</code> is:</p><pre><code class="language-julia hljs">julia&gt; ModelC.structure
Dict{Symbol, Any} with 7 entries:
  :components           =&gt; [[:model_a, :ModelA]]
  :variables            =&gt; Dict{Symbol, Dict{Symbol, Any}}(:v=&gt;Dict(:default=&gt;:v_var), :v_array=&gt;Dict(:size=&gt;(2, 3)))
  :icon                 =&gt; URI(&quot;https://github.com/SciML/SciMLDocs/blob/main/docs/src/assets/logo.png&quot;)
  :kwargs               =&gt; Dict{Symbol, Any}(:f=&gt;:sin, :v=&gt;:v_var, :v_array=&gt;nothing, :model_a__k_array=&gt;nothing, :p1=&gt;nothing)
  :independent_variable =&gt; t
  :extend               =&gt; Any[[:p2, :p1], Symbol(&quot;#mtkmodel__anonymous__ModelB&quot;), :ModelB]
  :equations            =&gt; [&quot;model_a.k ~ f(v)&quot;]</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Linearization/">« Linearization</a><a class="docs-footer-nextpage" href="../Validation/">Model Validation and Units »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 7 November 2023 02:18">Tuesday 7 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
